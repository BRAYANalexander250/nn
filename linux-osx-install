#!/bin/sh
REPO="https://github.com/dabigblob/ani-cli.git"
brew_base="$(brew --prefix)"
[ -d "${brew_base}" ] || printf "Your brew bin doesn't exist." && exit 1
# shellcheck disable=SC2312
case "$(uname)" in
    Darwin*)
        rm -rf "${brew_base}/share/ani-cli"
        git clone "$REPO" "${brew_base}/share/ani-cli"
        ln -sf "${brew_base}/share/ani-cli/ani-cli" "${brew_base}/bin/ani-cli"
        exit 0
        ;;
    Linux*)
        rm -rf "/usr/local/share/ani-cli"
        git clone "$REPO" "/usr/local/share/ani-cli"
        ln -sf "/usr/local/share/ani-cli/ani-cli" "/usr/local/bin/ani-cli"
        exit 0
        ;;
    *)
        printf "This installer is only for Linux and MacOS. Bye."
        exit 1
        ;;
esac
